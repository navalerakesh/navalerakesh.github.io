function C(){const o=document.querySelector(".post-content, .blog-main, .home-page");o&&(u(o),m(o))}function u(o){const s={"[!NOTE]":"note","[!TIP]":"tip","[!WARNING]":"warning","[!IMPORTANT]":"important"};o.querySelectorAll("blockquote").forEach(e=>{const n=e.querySelector("p");if(!n)return;const a=n.textContent||"";for(const c in s)if(a.trim().startsWith(c)){const l=s[c];e.classList.add("callout",`callout-${l}`),n.textContent=a.replace(c,"").trimStart();break}})}function m(o){o.querySelectorAll("pre > code").forEach(r=>{const e=r.parentElement;if(!e||e.dataset.enhanced==="true")return;const n=document.createElement("div");n.className="code-block-wrapper";const a=document.createElement("div");a.className="code-block-toolbar";const c=(r.className||"").match(/language-([a-z0-9+#]+)/i),l=document.createElement("span");l.className="code-lang-label",l.textContent=c?c[1].toUpperCase():"CODE";const t=document.createElement("button");t.type="button",t.className="code-copy-button",t.textContent="Copy",t.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(r.textContent||"");const i=t.textContent;t.textContent="Copied",t.classList.add("copied"),setTimeout(()=>{t.textContent=i,t.classList.remove("copied")},1500)}catch{const d=document.createRange();d.selectNodeContents(r);const p=window.getSelection();p.removeAllRanges(),p.addRange(d)}}),a.appendChild(l),a.appendChild(t),e.parentNode.insertBefore(n,e),n.appendChild(a),n.appendChild(e),e.dataset.enhanced="true"})}export{C as initContentEnhancements};
